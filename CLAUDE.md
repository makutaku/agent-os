# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Agent OS Overview

Agent OS is a system for spec-driven agentic development that transforms AI coding agents into productive developers through structured workflows. It provides standardized commands, instructions, and subagents for Claude Code and other AI tools.

## Repository Structure

This repository contains:

- `commands/` - Command definitions for Claude Code slash commands
- `instructions/` - Detailed workflow instructions referenced by commands  
- `standards/` - Global development standards and tech stack defaults
- `claude-code/agents/` - Specialized subagent definitions for Claude Code
- `setup-claude-code.sh` - Installation script for Claude Code integration

## Core Commands

The main Agent OS workflow commands are:

- `/plan-product` - Plan new products and install Agent OS in codebase (references `instructions/core/plan-product.md`)
- `/analyze-product` - Analyze existing codebases and install Agent OS
- `/create-spec` - Create detailed feature specifications (references `instructions/core/create-spec.md`) 
- `/execute-tasks` - Execute implementation tasks (references `instructions/core/execute-tasks.md`)

## Architecture

### Command Structure
Commands in `commands/` are thin wrappers that reference detailed instructions in `instructions/core/`. The instructions contain:
- Multi-step process flows with subagent orchestration
- Data validation and error handling
- Template structures for generated files
- Specific file creation patterns

### Subagent System
Specialized subagents in `claude-code/agents/` handle specific tasks:
- `test-runner` - Executes tests and analyzes failures
- `context-fetcher` - Gathers user input with validation
- `file-creator` - Creates files with templates and validation
- `git-workflow` - Handles Git operations
- `date-checker` - Provides current date context

### Standards and Conventions
Global standards in `standards/`:
- `tech-stack.md` - Default Ruby on Rails + React + PostgreSQL stack
- `best-practices.md` - Development guidelines emphasizing simplicity and readability
- `code-style/` - Language-specific style guides

## Key Files Generated by Agent OS

When Agent OS is installed in a project, it creates:
```
.agent-os/
└── product/
    ├── mission.md          # Product vision and purpose
    ├── mission-lite.md     # Condensed mission for AI context
    ├── tech-stack.md       # Technical architecture decisions
    ├── roadmap.md          # Development phases and features
    └── decisions.md        # Decision log with override priority
```

## Installation Commands

For new projects:
```bash
/plan-product
```

For existing codebases:
```bash
/analyze-product
```

Then use:
```bash
/create-spec  # Plan new features
/execute-tasks  # Implement features
```

## Important Notes

- Agent OS uses a structured template system for consistent file generation
- The `decisions.md` file has override priority over other configurations
- Subagents are designed to be proactive and specialized for specific tasks
- All workflows emphasize validation and error handling before proceeding